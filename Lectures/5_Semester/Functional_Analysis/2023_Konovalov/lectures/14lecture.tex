\begin{corollary}
	Пусть $M \subset E$ --- линейное многообразие, причём $\cl M \neq E$ и дополнительно $x_0 \notin \cl M$. Тогда существует функционал $f \in E^*$, обладающий следующими свойствами:
	\begin{enumerate}
		\item $\ker f \supseteq M$
		
		\item $f(x_0) = 1$
		
		\item $\|f\| = \frac{1}{\rho(x_0, M)}$
	\end{enumerate}
\end{corollary}

\begin{proof}
	Построим функционал $f_1$ на пространстве $M_1 = M \oplus [x_0]$. В предположении линейности, должно быть верно следующее:
	\[
		\forall x \in M, \alpha \in \K\ \ f_1(x + \alpha x_0) = f_1(x) + \alpha f_1(x_0)
	\]
	Тогда, чтобы получить вложение $\ker f \supseteq M$, потребуем $f_1(x) = 0$, а $f(x_0) = 1$ как того и требует условие, этим мы однозначно определили оператор $f_1$. Покажем, что $\|f_1\| = \frac{1}{\rho}$, где $\rho := \rho(x_0, M)$:
	\begin{itemize}
		\item[$\le$] Для любого $y = x + \alpha x_0$, $\alpha \neq 0$ можно написать неравенство:
		\[
			|f_1(y)| = |\alpha| = |\alpha| \cdot \frac{\|x + \alpha x_0\|}{\|x + \alpha x_0\|} = |\alpha| \cdot \frac{\|y\|}{|\alpha| \cdot \no{\frac{x}{\alpha} + x_0}} \le \frac{\|y\|}{\rho}
		\]
		Последний переход работает, потому что $\frac{x}{\alpha} \in M$, а значит расстояние $\|x_0 - (-\frac{x}{\alpha})\| \ge \rho$. Случай $\alpha = 0$ тривиален и не влияет на значение нормы.
		
		\item[$\ge$] По определению, $\rho = \inf_{x \in M} \rho(x_0, x)$. Стало быть, можно найти последовательность $\{x_n\}_{n = 1}^\infty$, что есть предел $\lim_{n \to \infty} \|x_0 + x_n\| = \rho$. Запишем норму функционала через супремум:
		\[
			\|f_1\| = \sup_{z \in M_1} \frac{|f_1(z)|}{\|z\|} = \sup_{z \in M_1} \frac{|\alpha|}{\|z\|} \ge \frac{|1|}{\|x_0 + x_n\|} \xrightarrow[n \to \infty]{} \frac{1}{\rho}
		\]
	\end{itemize}
	Осталось применить теорему Хана-Банаха на многообразии $M$, это даст искомый оператор.
\end{proof}

\begin{corollary}
	Пусть $x \in E \bs \{0\}$. Тогда существует функционал $f \in E^*$, обладающий следующими свойствами:
	\begin{enumerate}
		\item $\|f\| = 1$
		
		\item $f(x) = \|x\|$
	\end{enumerate}
\end{corollary}

\begin{anote}
	Интерес этого следствия состоит в том, что мы не только добились конкретного значения нормы, но и смогли определить точку, в которой достигается равенство с заданной нормой функционала.
\end{anote}

\begin{proof}
	Рассмотрим $M = \{0\}$ и $x_0 = \frac{x}{\|x\|} \neq 0$ и применим предыдущее следствие. Тогда:
	\[
		\exists f \in E^* \colon \System{
			&{\ker f \supseteq \{0\}}
			\\
			&{f(x_0) = 1}
			\\
			&{\|f\| = \frac{1}{\rho(x_0, M)} = \frac{1}{\|x_0\|} = 1}
		}
	\]
	Первый факт тривиален. В силу линейности, мы можем вытащить из второго условия значение $f(x)$:
	\[
		f(x_0) = 1 = f(x / \|x\|) = f(x) / \|x\| \Ra f(x) = \|x\|
	\]
\end{proof}

\begin{corollary}
	Если точки $x, y \in E$ таковы, что $\forall f \in E^*\ f(x) = f(y)$, то $x = y$.
\end{corollary}

\begin{proof}
	Положим $z = x - y$. Теперь покажем, что если $f(z) = 0$ при любом $f \in E^*$, то это должен быть нулевой элемент. Предположим противное, тогда по последнему следствию найдётся функционал $f \in E^*$ такой, что $f(z) = \|z\| \neq 0$, противоречие найдено.
\end{proof}

\begin{corollary}
	Для нормы любого элемента $x \in E$ верна формула:
	\[
		\forall x \in E\ \|x\| = \sup_{\|f\|_{E^*} =  1} |f(x)|
	\]
\end{corollary}

\begin{proof}
	С одной стороны, для любого функционала $f$ с условием $\|f\|_{E^*} = 1$ верно неравенство $|f(x)| \le \|f\| \cdot \|x\| = \|x\|$. С другой стороны, неравенство достигается в силу второго следствия.
\end{proof}

\begin{example}
	Приведём пару примеров использования следствий теоремы Хана-Банаха (далее номер примера соответствует следствию, которое оно использует):
	\begin{enumerate}
		\item[2.] Можно задаться серьёзным вопросом: <<А верно ли, что если $E \neq \{0\}$, то и $E^* \neq \{0\}$?>> То есть всегда ли есть нетривиальный функционал для нетривиального пространства $E$? Оказывается да, ровно это нам доказывается второе следствие.
		
		\item[2.] При помощи этого следствия можно, например, провести \textit{опорную гиперплоскость}. Рассмотрим вещественное пространство $E$, сферу $S := S(0, 1)$ и точку $x_0 \in S$. Гиперплоскость должна задаваться уравнением $f(x) = \alpha$, где $f \in E^*$ как минимум. И нам нужна такая гиперплоскость, что $f(x_0) = \alpha$, а сфера лежит по одну сторону от этой гиперплоскости, то есть (не умаляя общности, можем выбрать знак неравенства):
		\[
			\forall x \in S\ \ f(x) \le \alpha = f(x_0)
		\]
		Итак, соответствующее следствие говорит, что есть функционал $f \in E^*$ такой, что $f(x_0) = \|x_0\| = 1$, причём $\|f\| = 1$. Распишем тогда оценку на норму $\|f(x)\|$:
		\[
			\forall x \in S\ \ |f(x)| = \|f(x)\| \le \|f\| \cdot \|x\| = 1 = f(x_0)
		\]
		Требуемая плоскость найдена.
		
		\item[3.] В будущем мы будем изучать понятие \textit{слабой сходимости}, которое в одном виде уже встречалось в теории вероятностей. В случае функционального анализа, $x_n \xrightarrow{w} x$, если выполнено условие:
		\[
			\forall f \in E^*\ \ \lim_{n \to \infty} f(x_n) = f(x)
		\]
		Возникает вопрос: а почему будет предел единственен? Именно это гарантирует нам соответствующее следствие.
	\end{enumerate}
\end{example}